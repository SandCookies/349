{"id":"fRxd","dependencies":[{"name":"/home/hzrd/Code/hw7/package.json","includedInParent":true,"mtime":1605506150493},{"name":"jquery","loc":{"line":1,"column":14},"parent":"/home/hzrd/Code/hw7/app/scripts/src/dom.js","resolved":"/home/hzrd/Code/hw7/node_modules/jquery/dist/jquery.js"},{"name":"moment","loc":{"line":2,"column":19},"parent":"/home/hzrd/Code/hw7/app/scripts/src/dom.js","resolved":"/home/hzrd/Code/hw7/node_modules/moment/moment.js"},{"name":"crypto-js/md5","loc":{"line":3,"column":16},"parent":"/home/hzrd/Code/hw7/app/scripts/src/dom.js","resolved":"/home/hzrd/Code/hw7/node_modules/crypto-js/md5.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.promptForUsername=o,exports.ChatList=exports.ChatForm=void 0;var t=r(require(\"jquery\")),e=r(require(\"moment\")),a=r(require(\"crypto-js/md5\"));function r(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function s(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,a){return e&&s(t.prototype,e),a&&s(t,a),t}function u(t){var e=(0,a.default)(t);return\"http://gravatar.com/avatar/\".concat(e.toString())}function o(){return prompt(\"Enter a username\").toLowerCase()}var f=function(){function e(a,r){n(this,e),this.$form=(0,t.default)(a),this.$input=(0,t.default)(r)}return i(e,[{key:\"init\",value:function(t){var e=this;this.$form.submit(function(a){a.preventDefault();var r=e.$input.val();t(r),e.$input.val(\"\")}),this.$form.find(\"button\").on(\"click\",function(){return e.$form.submit()})}}]),e}();exports.ChatForm=f;var l=function(){function a(e,r){n(this,a),this.$list=(0,t.default)(e),this.username=r}return i(a,[{key:\"drawMessage\",value:function(a){var r=a.user,n=a.timestamp,s=a.message,i=(0,t.default)(\"<li>\",{class:\"message-row\"});this.username===r&&i.addClass(\"me\");var o=(0,t.default)(\"<p>\");o.append((0,t.default)(\"<span>\",{class:\"message-username\",text:r})),o.append((0,t.default)(\"<span>\",{class:\"timestamp\",\"data-time\":n,text:(0,e.default)(n).fromNow()})),o.append((0,t.default)(\"<span>\",{class:\"message-message\",text:s}));var f=(0,t.default)(\"<img>\",{src:u(r),title:r});i.append(f),i.append(o),this.$list.append(i),i.get(0).scrollIntoView()}},{key:\"init\",value:function(){this.timer=setInterval(function(){(0,t.default)(\"[data-time]\").each(function(a,r){var n=(0,t.default)(r),s=(new Date).setTime(n.attr(\"data-time\")),i=(0,e.default)(s).fromNow();n.html(i)})},1e3)}}]),a}();exports.ChatList=l;"},"sourceMaps":{"js":{"mappings":[{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":0}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":13}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":20}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":35}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":43}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":56}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":57}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":64}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":68}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":76}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":94}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":96}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":104}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":113}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":121}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":135}},{"source":"dom.js","original":{"line":1,"column":0},"generated":{"line":1,"column":137}},{"source":"dom.js","original":{"line":1,"column":0},"generated":{"line":1,"column":141}},{"source":"dom.js","original":{"line":1,"column":0},"generated":{"line":1,"column":143}},{"source":"dom.js","original":{"line":1,"column":0},"generated":{"line":1,"column":145}},{"source":"dom.js","original":{"line":1,"column":0},"generated":{"line":1,"column":153}},{"source":"dom.js","original":{"line":2,"column":0},"generated":{"line":1,"column":164}},{"source":"dom.js","original":{"line":2,"column":0},"generated":{"line":1,"column":166}},{"source":"dom.js","original":{"line":2,"column":0},"generated":{"line":1,"column":168}},{"source":"dom.js","original":{"line":2,"column":0},"generated":{"line":1,"column":176}},{"source":"dom.js","original":{"line":3,"column":0},"generated":{"line":1,"column":187}},{"source":"dom.js","original":{"line":3,"column":0},"generated":{"line":1,"column":189}},{"source":"dom.js","original":{"line":3,"column":0},"generated":{"line":1,"column":191}},{"source":"dom.js","original":{"line":3,"column":0},"generated":{"line":1,"column":199}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":217}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":226}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":228}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":231}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":238}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":241}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":243}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":254}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":256}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":257}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":265}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":268}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":277}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":279}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":281}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":284}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":289}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":302}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":305}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":311}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":315}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":325}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":362}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":371}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":373}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":375}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":378}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":382}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":386}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":388}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":390}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":392}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":394}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":401}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":405}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":406}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":410}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":412}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":414}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":417}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":419}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":430}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":432}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":445}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":447}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":449}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":463}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":465}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":475}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":479}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":481}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":491}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":494}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":501}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":516}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":518}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":520}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":524}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":528}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":537}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":539}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":541}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":543}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":546}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":553}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":556}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":558}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":560}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":570}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":573}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":576}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":578}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":580}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":583}},{"source":"dom.js","original":{"line":5,"column":0},"generated":{"line":1,"column":585}},{"source":"dom.js","name":"createGravatarUrl","original":{"line":5,"column":9},"generated":{"line":1,"column":594}},{"source":"dom.js","name":"username","original":{"line":5,"column":27},"generated":{"line":1,"column":596}},{"source":"dom.js","name":"userhash","original":{"line":6,"column":8},"generated":{"line":1,"column":599}},{"source":"dom.js","name":"userhash","original":{"line":6,"column":8},"generated":{"line":1,"column":603}},{"source":"dom.js","original":{"line":6,"column":19},"generated":{"line":1,"column":606}},{"source":"dom.js","name":"username","original":{"line":6,"column":23},"generated":{"line":1,"column":608}},{"source":"dom.js","name":"username","original":{"line":6,"column":23},"generated":{"line":1,"column":610}},{"source":"dom.js","name":"username","original":{"line":6,"column":23},"generated":{"line":1,"column":619}},{"source":"dom.js","name":"userhash","original":{"line":7,"column":41},"generated":{"line":1,"column":622}},{"source":"dom.js","name":"userhash","original":{"line":7,"column":41},"generated":{"line":1,"column":628}},{"source":"dom.js","name":"userhash","original":{"line":7,"column":41},"generated":{"line":1,"column":658}},{"source":"dom.js","name":"userhash","original":{"line":7,"column":41},"generated":{"line":1,"column":665}},{"source":"dom.js","name":"toString","original":{"line":7,"column":50},"generated":{"line":1,"column":667}},{"source":"dom.js","original":{"line":10,"column":7},"generated":{"line":1,"column":679}},{"source":"dom.js","name":"promptForUsername","original":{"line":10,"column":16},"generated":{"line":1,"column":688}},{"source":"dom.js","name":"username","original":{"line":12,"column":11},"generated":{"line":1,"column":692}},{"source":"dom.js","name":"prompt","original":{"line":11,"column":19},"generated":{"line":1,"column":699}},{"source":"dom.js","original":{"line":11,"column":26},"generated":{"line":1,"column":706}},{"source":"dom.js","name":"toLowerCase","original":{"line":12,"column":20},"generated":{"line":1,"column":726}},{"source":"dom.js","name":"ChatForm","original":{"line":15,"column":13},"generated":{"line":1,"column":740}},{"source":"dom.js","name":"ChatForm","original":{"line":15,"column":13},"generated":{"line":1,"column":744}},{"source":"dom.js","name":"ChatForm","original":{"line":15,"column":13},"generated":{"line":1,"column":746}},{"source":"dom.js","name":"formSel","original":{"line":16,"column":16},"generated":{"line":1,"column":757}},{"source":"dom.js","name":"formSel","original":{"line":16,"column":16},"generated":{"line":1,"column":766}},{"source":"dom.js","name":"formSel","original":{"line":16,"column":16},"generated":{"line":1,"column":768}},{"source":"dom.js","name":"inputSel","original":{"line":16,"column":25},"generated":{"line":1,"column":770}},{"source":"dom.js","original":{"line":16,"column":34},"generated":{"line":1,"column":773}},{"source":"dom.js","original":{"line":16,"column":34},"generated":{"line":1,"column":775}},{"source":"dom.js","original":{"line":16,"column":34},"generated":{"line":1,"column":780}},{"source":"dom.js","name":"$form","original":{"line":17,"column":13},"generated":{"line":1,"column":783}},{"source":"dom.js","name":"$form","original":{"line":17,"column":13},"generated":{"line":1,"column":788}},{"source":"dom.js","original":{"line":17,"column":21},"generated":{"line":1,"column":795}},{"source":"dom.js","name":"formSel","original":{"line":17,"column":23},"generated":{"line":1,"column":797}},{"source":"dom.js","name":"formSel","original":{"line":17,"column":23},"generated":{"line":1,"column":799}},{"source":"dom.js","name":"formSel","original":{"line":17,"column":23},"generated":{"line":1,"column":808}},{"source":"dom.js","name":"$input","original":{"line":18,"column":13},"generated":{"line":1,"column":811}},{"source":"dom.js","name":"$input","original":{"line":18,"column":13},"generated":{"line":1,"column":816}},{"source":"dom.js","original":{"line":18,"column":22},"generated":{"line":1,"column":824}},{"source":"dom.js","name":"inputSel","original":{"line":18,"column":24},"generated":{"line":1,"column":826}},{"source":"dom.js","name":"inputSel","original":{"line":18,"column":24},"generated":{"line":1,"column":828}},{"source":"dom.js","name":"inputSel","original":{"line":18,"column":24},"generated":{"line":1,"column":837}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":840}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":847}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":849}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":851}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":852}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":853}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":857}},{"source":"dom.js","name":"submitCallback","original":{"line":22,"column":7},"generated":{"line":1,"column":864}},{"source":"dom.js","name":"submitCallback","original":{"line":22,"column":7},"generated":{"line":1,"column":870}},{"source":"dom.js","name":"submitCallback","original":{"line":22,"column":7},"generated":{"line":1,"column":879}},{"source":"dom.js","original":{"line":22,"column":22},"generated":{"line":1,"column":882}},{"source":"dom.js","original":{"line":22,"column":22},"generated":{"line":1,"column":886}},{"source":"dom.js","original":{"line":22,"column":22},"generated":{"line":1,"column":888}},{"source":"dom.js","name":"$form","original":{"line":23,"column":9},"generated":{"line":1,"column":893}},{"source":"dom.js","name":"$form","original":{"line":23,"column":9},"generated":{"line":1,"column":898}},{"source":"dom.js","name":"submit","original":{"line":23,"column":15},"generated":{"line":1,"column":904}},{"source":"dom.js","original":{"line":23,"column":22},"generated":{"line":1,"column":911}},{"source":"dom.js","name":"event","original":{"line":23,"column":23},"generated":{"line":1,"column":920}},{"source":"dom.js","name":"event","original":{"line":24,"column":8},"generated":{"line":1,"column":923}},{"source":"dom.js","name":"preventDefault","original":{"line":24,"column":14},"generated":{"line":1,"column":925}},{"source":"dom.js","name":"val","original":{"line":25,"column":12},"generated":{"line":1,"column":942}},{"source":"dom.js","name":"val","original":{"line":25,"column":12},"generated":{"line":1,"column":946}},{"source":"dom.js","original":{"line":25,"column":18},"generated":{"line":1,"column":948}},{"source":"dom.js","name":"$input","original":{"line":25,"column":23},"generated":{"line":1,"column":950}},{"source":"dom.js","name":"val","original":{"line":25,"column":30},"generated":{"line":1,"column":957}},{"source":"dom.js","name":"submitCallback","original":{"line":26,"column":8},"generated":{"line":1,"column":963}},{"source":"dom.js","name":"val","original":{"line":26,"column":23},"generated":{"line":1,"column":965}},{"source":"dom.js","original":{"line":27,"column":8},"generated":{"line":1,"column":968}},{"source":"dom.js","name":"$input","original":{"line":27,"column":13},"generated":{"line":1,"column":970}},{"source":"dom.js","name":"val","original":{"line":27,"column":20},"generated":{"line":1,"column":977}},{"source":"dom.js","original":{"line":27,"column":24},"generated":{"line":1,"column":981}},{"source":"dom.js","name":"$form","original":{"line":29,"column":9},"generated":{"line":1,"column":987}},{"source":"dom.js","name":"$form","original":{"line":29,"column":9},"generated":{"line":1,"column":992}},{"source":"dom.js","name":"find","original":{"line":29,"column":15},"generated":{"line":1,"column":998}},{"source":"dom.js","original":{"line":29,"column":20},"generated":{"line":1,"column":1003}},{"source":"dom.js","name":"on","original":{"line":29,"column":30},"generated":{"line":1,"column":1013}},{"source":"dom.js","original":{"line":29,"column":33},"generated":{"line":1,"column":1016}},{"source":"dom.js","original":{"line":29,"column":42},"generated":{"line":1,"column":1024}},{"source":"dom.js","original":{"line":29,"column":48},"generated":{"line":1,"column":1035}},{"source":"dom.js","original":{"line":29,"column":48},"generated":{"line":1,"column":1042}},{"source":"dom.js","name":"$form","original":{"line":29,"column":53},"generated":{"line":1,"column":1044}},{"source":"dom.js","name":"submit","original":{"line":29,"column":59},"generated":{"line":1,"column":1050}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1065}},{"source":"dom.js","name":"ChatForm","original":{"line":15,"column":13},"generated":{"line":1,"column":1067}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1070}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1078}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1087}},{"source":"dom.js","name":"ChatList","original":{"line":33,"column":13},"generated":{"line":1,"column":1089}},{"source":"dom.js","name":"ChatList","original":{"line":33,"column":13},"generated":{"line":1,"column":1093}},{"source":"dom.js","name":"ChatList","original":{"line":33,"column":13},"generated":{"line":1,"column":1095}},{"source":"dom.js","name":"listSel","original":{"line":34,"column":16},"generated":{"line":1,"column":1106}},{"source":"dom.js","name":"listSel","original":{"line":34,"column":16},"generated":{"line":1,"column":1115}},{"source":"dom.js","name":"listSel","original":{"line":34,"column":16},"generated":{"line":1,"column":1117}},{"source":"dom.js","name":"username","original":{"line":34,"column":25},"generated":{"line":1,"column":1119}},{"source":"dom.js","original":{"line":34,"column":34},"generated":{"line":1,"column":1122}},{"source":"dom.js","original":{"line":34,"column":34},"generated":{"line":1,"column":1124}},{"source":"dom.js","original":{"line":34,"column":34},"generated":{"line":1,"column":1129}},{"source":"dom.js","name":"$list","original":{"line":35,"column":13},"generated":{"line":1,"column":1132}},{"source":"dom.js","name":"$list","original":{"line":35,"column":13},"generated":{"line":1,"column":1137}},{"source":"dom.js","original":{"line":35,"column":21},"generated":{"line":1,"column":1144}},{"source":"dom.js","name":"listSel","original":{"line":35,"column":23},"generated":{"line":1,"column":1146}},{"source":"dom.js","name":"listSel","original":{"line":35,"column":23},"generated":{"line":1,"column":1148}},{"source":"dom.js","name":"listSel","original":{"line":35,"column":23},"generated":{"line":1,"column":1157}},{"source":"dom.js","name":"username","original":{"line":36,"column":13},"generated":{"line":1,"column":1160}},{"source":"dom.js","name":"username","original":{"line":36,"column":13},"generated":{"line":1,"column":1165}},{"source":"dom.js","name":"username","original":{"line":36,"column":24},"generated":{"line":1,"column":1174}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1176}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1183}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1185}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1187}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1188}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1189}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1193}},{"source":"dom.js","original":{"line":40,"column":51},"generated":{"line":1,"column":1207}},{"source":"dom.js","original":{"line":40,"column":51},"generated":{"line":1,"column":1213}},{"source":"dom.js","original":{"line":40,"column":51},"generated":{"line":1,"column":1222}},{"source":"dom.js","name":"u","original":{"line":40,"column":21},"generated":{"line":1,"column":1225}},{"source":"dom.js","name":"u","original":{"line":40,"column":21},"generated":{"line":1,"column":1229}},{"source":"dom.js","name":"user","original":{"line":40,"column":15},"generated":{"line":1,"column":1231}},{"source":"dom.js","name":"user","original":{"line":40,"column":15},"generated":{"line":1,"column":1233}},{"source":"dom.js","name":"t","original":{"line":40,"column":35},"generated":{"line":1,"column":1238}},{"source":"dom.js","name":"timestamp","original":{"line":40,"column":24},"generated":{"line":1,"column":1240}},{"source":"dom.js","name":"timestamp","original":{"line":40,"column":24},"generated":{"line":1,"column":1242}},{"source":"dom.js","name":"m","original":{"line":40,"column":47},"generated":{"line":1,"column":1252}},{"source":"dom.js","name":"message","original":{"line":40,"column":38},"generated":{"line":1,"column":1254}},{"source":"dom.js","name":"message","original":{"line":40,"column":38},"generated":{"line":1,"column":1256}},{"source":"dom.js","name":"$messageRow","original":{"line":41,"column":8},"generated":{"line":1,"column":1264}},{"source":"dom.js","original":{"line":41,"column":22},"generated":{"line":1,"column":1267}},{"source":"dom.js","original":{"line":41,"column":24},"generated":{"line":1,"column":1269}},{"source":"dom.js","original":{"line":41,"column":24},"generated":{"line":1,"column":1271}},{"source":"dom.js","original":{"line":41,"column":24},"generated":{"line":1,"column":1280}},{"source":"dom.js","original":{"line":41,"column":32},"generated":{"line":1,"column":1287}},{"source":"dom.js","original":{"line":42,"column":17},"generated":{"line":1,"column":1288}},{"source":"dom.js","original":{"line":42,"column":17},"generated":{"line":1,"column":1294}},{"source":"dom.js","original":{"line":44,"column":7},"generated":{"line":1,"column":1310}},{"source":"dom.js","name":"username","original":{"line":44,"column":12},"generated":{"line":1,"column":1315}},{"source":"dom.js","name":"u","original":{"line":44,"column":25},"generated":{"line":1,"column":1326}},{"source":"dom.js","name":"$messageRow","original":{"line":45,"column":8},"generated":{"line":1,"column":1329}},{"source":"dom.js","name":"addClass","original":{"line":45,"column":20},"generated":{"line":1,"column":1331}},{"source":"dom.js","original":{"line":45,"column":29},"generated":{"line":1,"column":1340}},{"source":"dom.js","name":"$message","original":{"line":48,"column":8},"generated":{"line":1,"column":1346}},{"source":"dom.js","name":"$message","original":{"line":48,"column":8},"generated":{"line":1,"column":1350}},{"source":"dom.js","original":{"line":48,"column":19},"generated":{"line":1,"column":1353}},{"source":"dom.js","original":{"line":48,"column":21},"generated":{"line":1,"column":1355}},{"source":"dom.js","original":{"line":48,"column":21},"generated":{"line":1,"column":1357}},{"source":"dom.js","original":{"line":48,"column":21},"generated":{"line":1,"column":1366}},{"source":"dom.js","name":"$message","original":{"line":50,"column":4},"generated":{"line":1,"column":1373}},{"source":"dom.js","name":"append","original":{"line":50,"column":13},"generated":{"line":1,"column":1375}},{"source":"dom.js","original":{"line":50,"column":20},"generated":{"line":1,"column":1383}},{"source":"dom.js","original":{"line":50,"column":22},"generated":{"line":1,"column":1385}},{"source":"dom.js","original":{"line":50,"column":22},"generated":{"line":1,"column":1387}},{"source":"dom.js","original":{"line":50,"column":22},"generated":{"line":1,"column":1396}},{"source":"dom.js","original":{"line":50,"column":32},"generated":{"line":1,"column":1405}},{"source":"dom.js","original":{"line":51,"column":17},"generated":{"line":1,"column":1406}},{"source":"dom.js","original":{"line":51,"column":17},"generated":{"line":1,"column":1412}},{"source":"dom.js","name":"text","original":{"line":52,"column":8},"generated":{"line":1,"column":1431}},{"source":"dom.js","name":"u","original":{"line":52,"column":14},"generated":{"line":1,"column":1436}},{"source":"dom.js","name":"$message","original":{"line":55,"column":4},"generated":{"line":1,"column":1441}},{"source":"dom.js","name":"append","original":{"line":55,"column":13},"generated":{"line":1,"column":1443}},{"source":"dom.js","original":{"line":55,"column":20},"generated":{"line":1,"column":1451}},{"source":"dom.js","original":{"line":55,"column":22},"generated":{"line":1,"column":1453}},{"source":"dom.js","original":{"line":55,"column":22},"generated":{"line":1,"column":1455}},{"source":"dom.js","original":{"line":55,"column":22},"generated":{"line":1,"column":1464}},{"source":"dom.js","original":{"line":55,"column":32},"generated":{"line":1,"column":1473}},{"source":"dom.js","original":{"line":56,"column":17},"generated":{"line":1,"column":1474}},{"source":"dom.js","original":{"line":56,"column":17},"generated":{"line":1,"column":1480}},{"source":"dom.js","name":"t","original":{"line":57,"column":21},"generated":{"line":1,"column":1492}},{"source":"dom.js","name":"t","original":{"line":57,"column":21},"generated":{"line":1,"column":1504}},{"source":"dom.js","name":"text","original":{"line":58,"column":8},"generated":{"line":1,"column":1506}},{"source":"dom.js","original":{"line":58,"column":14},"generated":{"line":1,"column":1512}},{"source":"dom.js","name":"t","original":{"line":58,"column":21},"generated":{"line":1,"column":1514}},{"source":"dom.js","name":"t","original":{"line":58,"column":21},"generated":{"line":1,"column":1516}},{"source":"dom.js","name":"t","original":{"line":58,"column":21},"generated":{"line":1,"column":1525}},{"source":"dom.js","name":"fromNow","original":{"line":58,"column":24},"generated":{"line":1,"column":1528}},{"source":"dom.js","name":"$message","original":{"line":61,"column":4},"generated":{"line":1,"column":1541}},{"source":"dom.js","name":"append","original":{"line":61,"column":13},"generated":{"line":1,"column":1543}},{"source":"dom.js","original":{"line":61,"column":20},"generated":{"line":1,"column":1551}},{"source":"dom.js","original":{"line":61,"column":22},"generated":{"line":1,"column":1553}},{"source":"dom.js","original":{"line":61,"column":22},"generated":{"line":1,"column":1555}},{"source":"dom.js","original":{"line":61,"column":22},"generated":{"line":1,"column":1564}},{"source":"dom.js","original":{"line":61,"column":32},"generated":{"line":1,"column":1573}},{"source":"dom.js","original":{"line":62,"column":17},"generated":{"line":1,"column":1574}},{"source":"dom.js","original":{"line":62,"column":17},"generated":{"line":1,"column":1580}},{"source":"dom.js","name":"text","original":{"line":63,"column":8},"generated":{"line":1,"column":1598}},{"source":"dom.js","name":"m","original":{"line":63,"column":14},"generated":{"line":1,"column":1603}},{"source":"dom.js","name":"$img","original":{"line":67,"column":8},"generated":{"line":1,"column":1608}},{"source":"dom.js","name":"$img","original":{"line":67,"column":8},"generated":{"line":1,"column":1612}},{"source":"dom.js","original":{"line":67,"column":15},"generated":{"line":1,"column":1615}},{"source":"dom.js","original":{"line":67,"column":17},"generated":{"line":1,"column":1617}},{"source":"dom.js","original":{"line":67,"column":17},"generated":{"line":1,"column":1619}},{"source":"dom.js","original":{"line":67,"column":17},"generated":{"line":1,"column":1628}},{"source":"dom.js","original":{"line":67,"column":26},"generated":{"line":1,"column":1636}},{"source":"dom.js","name":"src","original":{"line":68,"column":8},"generated":{"line":1,"column":1637}},{"source":"dom.js","name":"createGravatarUrl","original":{"line":68,"column":13},"generated":{"line":1,"column":1641}},{"source":"dom.js","name":"u","original":{"line":68,"column":31},"generated":{"line":1,"column":1643}},{"source":"dom.js","name":"title","original":{"line":69,"column":8},"generated":{"line":1,"column":1646}},{"source":"dom.js","name":"u","original":{"line":69,"column":15},"generated":{"line":1,"column":1652}},{"source":"dom.js","name":"$messageRow","original":{"line":72,"column":4},"generated":{"line":1,"column":1656}},{"source":"dom.js","name":"append","original":{"line":72,"column":16},"generated":{"line":1,"column":1658}},{"source":"dom.js","name":"$img","original":{"line":72,"column":23},"generated":{"line":1,"column":1665}},{"source":"dom.js","name":"$messageRow","original":{"line":73,"column":4},"generated":{"line":1,"column":1668}},{"source":"dom.js","name":"append","original":{"line":73,"column":16},"generated":{"line":1,"column":1670}},{"source":"dom.js","name":"$message","original":{"line":73,"column":23},"generated":{"line":1,"column":1677}},{"source":"dom.js","name":"$list","original":{"line":74,"column":9},"generated":{"line":1,"column":1680}},{"source":"dom.js","name":"$list","original":{"line":74,"column":9},"generated":{"line":1,"column":1685}},{"source":"dom.js","name":"append","original":{"line":74,"column":15},"generated":{"line":1,"column":1691}},{"source":"dom.js","name":"$messageRow","original":{"line":74,"column":22},"generated":{"line":1,"column":1698}},{"source":"dom.js","name":"$messageRow","original":{"line":75,"column":4},"generated":{"line":1,"column":1701}},{"source":"dom.js","name":"get","original":{"line":75,"column":16},"generated":{"line":1,"column":1703}},{"source":"dom.js","original":{"line":75,"column":20},"generated":{"line":1,"column":1707}},{"source":"dom.js","name":"scrollIntoView","original":{"line":75,"column":23},"generated":{"line":1,"column":1710}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1729}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1730}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1734}},{"source":"dom.js","original":{"line":77,"column":10},"generated":{"line":1,"column":1741}},{"source":"dom.js","original":{"line":77,"column":10},"generated":{"line":1,"column":1747}},{"source":"dom.js","name":"timer","original":{"line":78,"column":13},"generated":{"line":1,"column":1758}},{"source":"dom.js","name":"timer","original":{"line":78,"column":13},"generated":{"line":1,"column":1763}},{"source":"dom.js","name":"setInterval","original":{"line":78,"column":21},"generated":{"line":1,"column":1769}},{"source":"dom.js","original":{"line":78,"column":33},"generated":{"line":1,"column":1781}},{"source":"dom.js","original":{"line":79,"column":14},"generated":{"line":1,"column":1793}},{"source":"dom.js","original":{"line":79,"column":14},"generated":{"line":1,"column":1795}},{"source":"dom.js","original":{"line":79,"column":14},"generated":{"line":1,"column":1797}},{"source":"dom.js","original":{"line":79,"column":14},"generated":{"line":1,"column":1806}},{"source":"dom.js","name":"each","original":{"line":79,"column":29},"generated":{"line":1,"column":1821}},{"source":"dom.js","original":{"line":79,"column":34},"generated":{"line":1,"column":1826}},{"source":"dom.js","name":"idx","original":{"line":79,"column":35},"generated":{"line":1,"column":1835}},{"source":"dom.js","name":"element","original":{"line":79,"column":40},"generated":{"line":1,"column":1837}},{"source":"dom.js","name":"$element","original":{"line":80,"column":20},"generated":{"line":1,"column":1840}},{"source":"dom.js","name":"$element","original":{"line":80,"column":20},"generated":{"line":1,"column":1844}},{"source":"dom.js","original":{"line":80,"column":31},"generated":{"line":1,"column":1847}},{"source":"dom.js","name":"element","original":{"line":80,"column":33},"generated":{"line":1,"column":1849}},{"source":"dom.js","name":"element","original":{"line":80,"column":33},"generated":{"line":1,"column":1851}},{"source":"dom.js","name":"element","original":{"line":80,"column":33},"generated":{"line":1,"column":1860}},{"source":"dom.js","name":"timestamp","original":{"line":81,"column":20},"generated":{"line":1,"column":1863}},{"source":"dom.js","original":{"line":81,"column":32},"generated":{"line":1,"column":1866}},{"source":"dom.js","name":"Date","original":{"line":81,"column":36},"generated":{"line":1,"column":1870}},{"source":"dom.js","name":"setTime","original":{"line":81,"column":43},"generated":{"line":1,"column":1876}},{"source":"dom.js","name":"$element","original":{"line":81,"column":51},"generated":{"line":1,"column":1884}},{"source":"dom.js","name":"attr","original":{"line":81,"column":60},"generated":{"line":1,"column":1886}},{"source":"dom.js","original":{"line":81,"column":65},"generated":{"line":1,"column":1891}},{"source":"dom.js","name":"ago","original":{"line":82,"column":20},"generated":{"line":1,"column":1905}},{"source":"dom.js","original":{"line":82,"column":26},"generated":{"line":1,"column":1908}},{"source":"dom.js","name":"timestamp","original":{"line":82,"column":33},"generated":{"line":1,"column":1910}},{"source":"dom.js","name":"timestamp","original":{"line":82,"column":33},"generated":{"line":1,"column":1912}},{"source":"dom.js","name":"timestamp","original":{"line":82,"column":33},"generated":{"line":1,"column":1921}},{"source":"dom.js","name":"fromNow","original":{"line":82,"column":44},"generated":{"line":1,"column":1924}},{"source":"dom.js","name":"$element","original":{"line":83,"column":16},"generated":{"line":1,"column":1934}},{"source":"dom.js","name":"html","original":{"line":83,"column":25},"generated":{"line":1,"column":1936}},{"source":"dom.js","name":"ago","original":{"line":83,"column":30},"generated":{"line":1,"column":1941}},{"source":"dom.js","original":{"line":85,"column":11},"generated":{"line":1,"column":1947}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1956}},{"source":"dom.js","name":"ChatList","original":{"line":33,"column":13},"generated":{"line":1,"column":1958}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1961}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1969}},{"source":"dom.js","original":{"line":86,"column":5},"generated":{"line":1,"column":1978}}],"sources":{"dom.js":"import $ from 'jquery';\nimport moment from 'moment';\nimport md5 from 'crypto-js/md5';\n\nfunction createGravatarUrl(username){\n    let userhash = md5(username);\n    return `http://gravatar.com/avatar/${userhash.toString()}`;\n}\n\nexport function promptForUsername(){\n    let username = prompt('Enter a username');\n    return username.toLowerCase();\n}\n\nexport class ChatForm{\n    constructor(formSel, inputSel){\n        this.$form = $(formSel);\n        this.$input = $(inputSel);\n    }\n\n\n  init(submitCallback){\n    this.$form.submit((event) => {\n        event.preventDefault();\n        let val = this.$input.val();\n        submitCallback(val);\n        this.$input.val('');\n    });\n    this.$form.find('button').on('click', () => this.$form.submit());\n  }\n}\n\nexport class ChatList{\n    constructor(listSel, username){\n        this.$list = $(listSel);\n        this.username = username;\n    }\n\n\n  drawMessage({user: u, timestamp: t, message: m}) {\n    let $messageRow = $('<li>', {\n        'class': 'message-row'\n    });\n    if(this.username === u) {\n        $messageRow.addClass('me');\n    }\n\n    let $message = $('<p>');\n\n    $message.append($('<span>', {\n        'class': 'message-username',\n        text: u\n    }));\n\n    $message.append($('<span>', { \n        'class': 'timestamp',\n        'data-time': t,\n        text: moment(t).fromNow()\n    }));\n\n    $message.append($('<span>', { \n        'class': 'message-message',\n        text: m\n    }));\n\n\n    let $img = $('<img>', {\n        src: createGravatarUrl(u),\n        title: u\n    });\n\n    $messageRow.append($img);\n    $messageRow.append($message);\n    this.$list.append($messageRow);\n    $messageRow.get(0).scrollIntoView();\n  }\n    init(){\n        this.timer = setInterval(() => {\n            $('[data-time]').each((idx, element) => {\n                let $element = $(element);\n                let timestamp = new Date().setTime($element.attr('data-time'));\n                let ago = moment(timestamp).fromNow();\n                $element.html(ago);\n            });\n        }, 1000);\n    }\n}   "},"lineCount":null}},"error":null,"hash":"cb3725e4f1b66a8e3da94833941ce473","cacheData":{"env":{}}}